- save_type = save_type.to_sym
-unless saves[save_type].blank?
  - latest = saves[save_type].first
  -if has_change
    .new_save_detected= "New #{save_type.capitalize} detected, hang on while I commit it..."
  - saves[save_type][0..4].each_with_index do |qsave, index|
    - message = qsave.message
    - message = campaign.commit_messages[qsave.to_s] unless campaign.commit_messages[qsave.to_s].blank?
    .small.small
      .left= qsave.date.to_formatted_s(:short)
      .left.with_margin= "#{time_ago(qsave.date)} ago"
      .right
        - unless index.eql?(0)
          = link_to("restore", edit_save_path(:id => campaign.id, :sha_id => qsave.to_s, :save_type => save_type), :remote => true)
        -else
          = "current #{save_type}"
          -if save_type.eql?(:persistent)
            .small= link_to("set as quicksave", edit_save_path(:id => campaign.id, :sha_id => qsave.to_s, :save_type => save_type, :set_as_quicksave => true), :remote => true)
      .clear
      .left
        .small= message unless message.eql?("updated #{save_type}.sfs")
      .clear
  - unless has_change
    = link_to("add notes about current #{save_type}", edit_save_path(:id => campaign.id, :sha_id => saves[save_type].first.to_s, :save_type => save_type, :commit_message => true), :remote => true)
